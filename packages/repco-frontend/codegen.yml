overwrite: true
# The path where the previously generated introspection data is stored
schema: '../repco-graphql/generated/schema.graphql'
# A glob that matches all files that contain operation definitions
documents: 'app/**/*.{ts,tsx}'
hooks:
  afterAllFileWrite:
    - yarn eslint app/graphql/types.ts --fix
config:
  skipDocumentsValidation: true
  flattenGeneratedTypes: true
  avoidOptionals:
    object: true
    inputValue: false
    defaultValue: true
  scalars:
    Cursor: string

  # avoidOptionals:
  #   field: true
  #   inputValue: false
  #   object: true
generates:
  # This is the path where the generated types will be stored
  app/graphql/types.ts:
    plugins:
      - add:
          content: '/* DO NOT EDIT! This file is auto-generated by graphql-code-generator - see `codegen.yml` */'
      - 'typescript'
      - 'typescript-operations'
    config:
      skipTypename: true
      inputMaybeValue: 'T | null | undefined'
